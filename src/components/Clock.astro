---
import { Icon } from 'astro-icon/components';
---
<div class="clock-container">
    <div class="clock-display">
        <div class="clock-time-row">
            <Icon name="lucide:clock" class="clock-icon text-deadlock-green" />
            <span class="clock-time text-deadlock-green" id="clock-time">--:--:--</span>
        </div>
        <span class="clock-timezone" id="clock-timezone">Loading...</span>
    </div>
</div>

<script>
    function updateClock() {
        const now = new Date();
        
        const warsawTime = new Intl.DateTimeFormat('en-US', {
            timeZone: 'Europe/Warsaw',
            hour: '2-digit',
            minute: '2-digit',
            second: '2-digit',
            hour12: false
        }).format(now);
        
        const timeElement = document.getElementById('clock-time');
        const timezoneElement = document.getElementById('clock-timezone');
        
        if (timeElement) timeElement.textContent = warsawTime;
        if (timezoneElement) timezoneElement.textContent = 'Europe/Warsaw';
    }
    
    updateClock();
    setInterval(updateClock, 1000);
</script>

<style>
    .clock-container {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        padding-left: 0.5em;
        padding-right: 0.5em;
    }
    
    .clock-display {
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
    }
    
    .clock-time-row {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }
    
    .clock-icon {
        width: 1.5rem;
        height: 1.5rem;
        flex-shrink: 0;
        filter: drop-shadow(0 0 10px rgba(106, 231, 154, 0.3));
    }
    
    @media (prefers-color-scheme: light) {
        .clock-icon {
            filter: drop-shadow(0 2px 4px rgba(22, 163, 74, 0.2));
        }
    }
    
    .clock-time {
        font-size: 1.5rem;
        font-weight: bold;
        font-family: var(--font-code);
        letter-spacing: 0.05em;
        text-shadow: 0 0 10px rgba(106, 231, 154, 0.3);
    }
    
    @media (prefers-color-scheme: light) {
        .clock-time {
            text-shadow: 0 2px 4px rgba(22, 163, 74, 0.2);
        }
    }
    
    .clock-timezone {
        font-size: 0.875rem;
        opacity: 0.7;
    }
    
    @media (min-width: theme('screens.md')) {
        .clock-icon {
            width: 2rem;
            height: 2rem;
        }
        
        .clock-time {
            font-size: 2rem;
        }
        
        .clock-timezone {
            font-size: 1rem;
        }
    }
</style>
